<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Riot embedded</title>
    <style type="text/css">
      body {
        background: #f5fdff;
        font-family: Helvetica Neue;
      }
      .container {
        margin: auto;
        max-width: 900px;
        background: white;
        height: 150vh;
        padding: 20px;
      }
    </style>
  </head>
  <body>

    <div class="container">
      <h1>Embedded Riot Chat</h1>

      <p>Sample implementation:</p>
      <script src="https://gist.github.com/maxklenk/2b3fef6976b5c3e0f42e889200f94b5d.js"></script>

    </div>

    <!-- Load embedded Riot Chat client -->
     <script type="text/javascript">
        const matrixAssetDomain = 'https://embed.stomt.com/';

        // load javascript
        const riotScript = document.createElement('script');
        riotScript.src = `${matrixAssetDomain}embed.js`;
        riotScript.type = 'text/javascript';
        document.head.appendChild(riotScript);

        // setup
        const options = {
            riotConfig: 'config.json', // has to contain custom config
            indexeddbWorkerScript: 'indexeddb-worker.js', // has to be on website domain
            assetDomain: matrixAssetDomain,
            language: 'en',
            defaultToggled: false,

            // session
            homeserverUrl: 'https://matrix.stomt.com',
            userId: '@sso_0000d213816abba584714c0a:matrix.stomt.com',
            accessToken: 'MDAxZWxvY2F0aW9uIG1hdHJpeC5zdG9tdC5jb20KMDAxM2lkZW50aWZpZXIga2V5CjAwMTBjaWQgZ2VuID0gMQowMDQxY2lkIHVzZXJfaWQgPSBAc3NvXzAwMDBkMjEzODE2YWJiYTU4NDcxNGMwYTptYXRyaXguc3RvbXQuY29tCjAwMTZjaWQgdHlwZSA9IGFjY2VzcwowMDIxY2lkIG5vbmNlID0gX20wLHRJbWsrQiYmc192JgowMDJmc2lnbmF0dXJlIA1Owqp4Ig9To6nCAv5Nc9b3ow2vf__yE9N3hhitZQLNCg',
            deviceId: 'JELQHGYWFI',
        };
        window.Matrix = window.Matrix || [];
        window.Matrix.push(['setup', options]);
    </script>
    <!-- END: Load embedded Riot Chat client -->

  </body>
</html>
